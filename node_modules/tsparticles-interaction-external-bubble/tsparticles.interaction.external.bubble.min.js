/*! For license information please see tsparticles.interaction.external.bubble.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("tsparticles-engine"));else if("function"==typeof define&&define.amd)define(["tsparticles-engine"],t);else{var i="object"==typeof exports?t(require("tsparticles-engine")):t(e.window);for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(this,(e=>(()=>{"use strict";var t={818:t=>{t.exports=e}},i={};function o(e){var l=i[e];if(void 0!==l)return l.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{o.r(l),o.d(l,{Bubble:()=>r,BubbleBase:()=>t,BubbleDiv:()=>i,loadExternalBubbleInteraction:()=>u});var e=o(818);class t{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(t){t&&(void 0!==t.distance&&(this.distance=t.distance),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.mix&&(this.mix=t.mix),void 0!==t.opacity&&(this.opacity=t.opacity),void 0!==t.color&&(t.color instanceof Array?this.color=t.color.map((t=>e.OptionsColor.create(void 0,t))):(this.color instanceof Array&&(this.color=new e.OptionsColor),this.color=e.OptionsColor.create(this.color,t.color))),void 0!==t.size&&(this.size=t.size))}}class i extends t{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map((e=>e.replace("#",""))):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map((e=>`#${e}`)):`#${e}`}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class r extends t{load(e){super.load(e),e&&(e.divs instanceof Array?this.divs=e.divs.map((e=>{const t=new i;return t.load(e),t})):((this.divs instanceof Array||!this.divs)&&(this.divs=new i),this.divs.load(e.divs)))}}var s,b=function(e,t,i,o,l){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?l.call(e,i):l?l.value=i:t.set(e,i),i},n=function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)};function a(t,i,o,l){if(i>=o){const r=t+(i-o)*l;return(0,e.clamp)(r,t,i)}if(i<o){const r=t-(o-i)*l;return(0,e.clamp)(r,i,t)}}class c extends e.ExternalInteractorBase{constructor(e){super(e),s.set(this,void 0),b(this,s,e,"f"),e.bubble||(e.bubble={}),this.handleClickMode=t=>{"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t){e.bubble.inRange&&!t||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=n(this,s,"f"),t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(){const t=n(this,s,"f").actualOptions.interactivity.events,i=t.onHover,o=t.onClick,l=i.enable,r=i.mode,b=o.enable,a=o.mode,c=t.onDiv;l&&(0,e.isInArray)("bubble",r)?this.hoverBubble():b&&(0,e.isInArray)("bubble",a)?this.clickBubble():(0,e.divModeExecute)("bubble",c,((e,t)=>this.singleSelectorHover(e,t)))}isEnabled(t){var i;const o=n(this,s,"f"),l=o.actualOptions,r=o.interactivity.mouse,b=(null!==(i=null==t?void 0:t.interactivity)&&void 0!==i?i:l.interactivity).events,a=b.onDiv,c=(0,e.isDivModeEnabled)("bubble",a);if(!(c||b.onHover.enable&&r.position||b.onClick.enable&&r.clickPosition))return!1;const u=b.onHover.mode,d=b.onClick.mode;return(0,e.isInArray)("bubble",u)||(0,e.isInArray)("bubble",d)||c}loadModeOptions(e,...t){e.bubble||(e.bubble=new r);for(const i of t)e.bubble.load(null==i?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(){var t,i;const o=n(this,s,"f"),l=o.actualOptions,r=o.interactivity.mouse.clickPosition,b=l.interactivity.modes.bubble;if(!b||!r)return;o.bubble||(o.bubble={});const a=o.retina.bubbleModeDistance;if(!a||a<0)return;const c=o.particles.quadTree.queryCircle(r,a,(e=>this.isEnabled(e)));for(const l of c){if(!o.bubble.clicking)continue;l.bubble.inRange=!o.bubble.durationEnd;const s=l.getPosition(),n=(0,e.getDistance)(s,r),c=((new Date).getTime()-(o.interactivity.mouse.clickTime||0))/1e3;c>b.duration&&(o.bubble.durationEnd=!0),c>2*b.duration&&(o.bubble.clicking=!1,o.bubble.durationEnd=!1);const u={bubbleObj:{optValue:o.retina.bubbleModeSize,value:l.bubble.radius},particlesObj:{optValue:(0,e.getRangeMax)(l.options.size.value)*o.retina.pixelRatio,value:l.size.value},type:"size"};this.process(l,n,c,u);const d={bubbleObj:{optValue:b.opacity,value:l.bubble.opacity},particlesObj:{optValue:(0,e.getRangeMax)(l.options.opacity.value),value:null!==(i=null===(t=l.opacity)||void 0===t?void 0:t.value)&&void 0!==i?i:1},type:"opacity"};this.process(l,n,c,d),o.bubble.durationEnd?delete l.bubble.color:n<=a?this.hoverBubbleColor(l,n):delete l.bubble.color}}hoverBubble(){const t=n(this,s,"f"),i=t.interactivity.mouse.position,o=t.retina.bubbleModeDistance;if(!o||o<0||void 0===i)return;const l=t.particles.quadTree.queryCircle(i,o,(e=>this.isEnabled(e)));for(const r of l){r.bubble.inRange=!0;const l=r.getPosition(),s=(0,e.getDistance)(l,i),b=1-s/o;s<=o?b>=0&&t.interactivity.status===e.mouseMoveEvent&&(this.hoverBubbleSize(r,b),this.hoverBubbleOpacity(r,b),this.hoverBubbleColor(r,b)):this.reset(r),t.interactivity.status===e.mouseLeaveEvent&&this.reset(r)}}hoverBubbleColor(t,i,o){const l=n(this,s,"f").actualOptions,r=null!=o?o:l.interactivity.modes.bubble;if(r){if(!t.bubble.finalColor){const i=r.color;if(!i)return;const o=i instanceof Array?(0,e.itemFromArray)(i):i;t.bubble.finalColor=(0,e.rangeColorToHsl)(o)}if(t.bubble.finalColor)if(r.mix){t.bubble.color=void 0;const o=t.getFillColor();t.bubble.color=o?(0,e.rgbToHsl)((0,e.colorMix)(o,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}}hoverBubbleOpacity(t,i,o){var l,r,b,c;const u=n(this,s,"f").actualOptions,d=null!==(l=null==o?void 0:o.opacity)&&void 0!==l?l:null===(r=u.interactivity.modes.bubble)||void 0===r?void 0:r.opacity;if(!d)return;const v=t.options.opacity.value,p=a(null!==(c=null===(b=t.opacity)||void 0===b?void 0:b.value)&&void 0!==c?c:1,d,(0,e.getRangeMax)(v),i);void 0!==p&&(t.bubble.opacity=p)}hoverBubbleSize(t,i,o){const l=n(this,s,"f"),r=(null==o?void 0:o.size)?o.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(void 0===r)return;const b=(0,e.getRangeMax)(t.options.size.value)*l.retina.pixelRatio,c=a(t.size.value,r,b,i);void 0!==c&&(t.bubble.radius=c)}process(e,t,i,o){const l=n(this,s,"f"),r=o.bubbleObj.optValue,b=l.actualOptions.interactivity.modes.bubble;if(!b||void 0===r)return;const a=b.duration,c=l.retina.bubbleModeDistance,u=o.particlesObj.optValue,d=o.bubbleObj.value,v=o.particlesObj.value||0,p=o.type;if(c&&!(c<0)&&r!==u)if(l.bubble||(l.bubble={}),l.bubble.durationEnd)d&&("size"===p&&delete e.bubble.radius,"opacity"===p&&delete e.bubble.opacity);else if(t<=c){if((null!=d?d:v)!==r){const t=v-i*(v-r)/a;"size"===p&&(e.bubble.radius=t),"opacity"===p&&(e.bubble.opacity=t)}}else"size"===p&&delete e.bubble.radius,"opacity"===p&&delete e.bubble.opacity}singleSelectorHover(t,i){const o=n(this,s,"f"),l=document.querySelectorAll(t),r=o.actualOptions.interactivity.modes.bubble;r&&l.length&&l.forEach((t=>{const l=t,s=o.retina.pixelRatio,b={x:(l.offsetLeft+l.offsetWidth/2)*s,y:(l.offsetTop+l.offsetHeight/2)*s},n=l.offsetWidth/2*s,a="circle"===i.type?new e.Circle(b.x,b.y,n):new e.Rectangle(l.offsetLeft*s,l.offsetTop*s,l.offsetWidth*s,l.offsetHeight*s),c=o.particles.quadTree.query(a,(e=>this.isEnabled(e)));for(const t of c){if(!a.contains(t.getPosition()))continue;t.bubble.inRange=!0;const i=r.divs,o=(0,e.divMode)(i,l);t.bubble.div&&t.bubble.div===l||(this.clear(t,!0),t.bubble.div=l),this.hoverBubbleSize(t,1,o),this.hoverBubbleOpacity(t,1,o),this.hoverBubbleColor(t,1,o)}}))}}async function u(e){await e.addInteractor("externalBubble",(e=>new c(e)))}s=new WeakMap})(),l})()));